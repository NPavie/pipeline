<!DOCTYPE html>
<html>
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta charset="utf-8">
    <title>Prerequisites and dependencies</title>
    
  <meta prefix="dc: http://purl.org/dc/elements/1.1/" property="dc:title" content="Prerequisites and dependencies">


    <link rel="stylesheet" href="/pipeline/css/main.css">
    <link rel="stylesheet" href="/pipeline/css/coderay.css">
  </head>
  <body>
	<nav id="nav-sitemap">
	  <ul class="spine">
  
    
      
        <li class="spine-item">
          <a href="/pipeline">
      
      Home
      
        </a>
      
    
    </li>
  
    
      
        <li class="spine-item">
          <a href="/pipeline/Get_Help">
      
      Get Help
      
        </a>
      
      
      <ul class="spine">
  
    
      
        <li class="spine-item">
          <a href="/pipeline/Get_Help/User_Guide.html">
      
      User Guide
      
        </a>
      
      
      <ul class="spine">
  
    
      
        <li class="spine-item">
          <a href="/pipeline/wiki/gui/DAISY-Pipeline-2-User-Guide">
      
      DAISY Pipeline 2
      
        </a>
      
    
    </li>
  
    
      
        <li class="spine-item">
          <a href="/pipeline/wiki/webui/User-Guide">
      
      Web User Interface Guide
      
        </a>
      
      
      <ul class="spine">
  
    
      
        <li class="spine-item">
          <a href="/pipeline/wiki/webui/Templating">
      
      Templating
      
        </a>
      
    
    </li>
  
    
      
        <li class="spine-item">
          <a href="/pipeline/wiki/webui/Administrator-settings">
      
      Administrator Settings
      
        </a>
      
    
    </li>
  
</ul>

    
    </li>
  
    
      
        <li class="spine-item">
          <a href="/pipeline/modules/org/daisy/pipeline/modules/daisy202-to-epub3/doc/daisy202-to-epub3.html">
      
      DAISY 2.02 to EPUB 3
      
        </a>
      
    
    </li>
  
    
      
        <li class="spine-item">
          <a href="/pipeline/modules/org/daisy/pipeline/modules/braille/dtbook-to-pef/doc/dtbook-to-pef.html">
      
      DTBook to PEF
      
        </a>
      
    
    </li>
  
    
      
        <li class="spine-item">
          <a href="/pipeline/modules/org/daisy/pipeline/modules/dtbook-to-zedai/doc/dtbook-to-zedai.html">
      
      DTBook to ZedAI
      
        </a>
      
    
    </li>
  
    
      
        <li class="spine-item">
          <a href="/pipeline/modules/org/daisy/pipeline/modules/braille/epub3-to-pef/doc/epub3-to-pef.html">
      
      EPUB 3 to PEF
      
        </a>
      
    
    </li>
  
    
      
        <li class="spine-item">
          <a href="/pipeline/modules/org/daisy/pipeline/modules/braille/html-to-pef/doc/html-to-pef.html">
      
      HTML to PEF
      
        </a>
      
    
    </li>
  
    
      
        <li class="spine-item">
          <a href="/pipeline/modules/org/daisy/pipeline/modules/braille/zedai-to-pef/doc/zedai-to-pef.html">
      
      ZedAI to PEF
      
        </a>
      
    
    </li>
  
</ul>

    
    </li>
  
</ul>

    
    </li>
  
    
      
        <li class="spine-item">
          <a href="/pipeline/Contribute">
      
      Contribute
      
        </a>
      
      
      <ul class="spine">
  
    
      
        <li class="spine-item">
          <a href="/pipeline/Contribute/Developer_Guide.html">
      
      Developer Guide
      
        </a>
      
    
    </li>
  
</ul>

    
    </li>
  
    
      
        <li class="spine-item">
          <a href="/pipeline/Download.html">
      
      Download
      
        </a>
      
    
    </li>
  
</ul>

	</nav>
	<div class="edit-button">
	  <a href="https://github.com/daisy/pipeline-webui/wiki/Building-and-hacking/_edit" class="external-link" target="_blank">
		Edit this page on Github
	  </a>
	</div>
    <p>This page will help you set up a development environment and presents a development workflow.</p>

<h3 id="prerequisites-and-dependencies">Prerequisites and dependencies</h3>

<ul>
  <li>Java 8</li>
  <li>Play framework, automatically downloaded and installed with <code>./activator</code>
</li>
  <li>Ivy, also installed automatically</li>
  <li>All code related to communicating with the Pipeline engine through the web API lives in <a href="https://github.com/daisy/pipeline-clientlib-java" class="external-link" target="_blank">pipeline-clientlib-java</a>. The clientlib-java submodule is for parsing and serializing the XML that is received from and sent to the engine. The clientlib-java-http submodule is for the HTTP communication and uses clientlib-java.</li>
  <li>In order to test the complete functionality of the UI, a running instance of the Pipeline engine is required.</li>
</ul>

<h3 id="building">Building</h3>

<ul>
  <li>For the latest up to date version, check out the branch “big-update”.</li>
  <li>Make sure <code>$JAVA_HOME</code> points to Java 8.</li>
  <li>
    <p>For some reason the application is unable to initialize the database itself, therefore upon the first run copy a clean pre-initialized version of the database:</p>

    <p><code>sh
rm -r dp2webui &amp;&amp; cp -r dp2webui-cleandb dp2webui
</code></p>
  </li>
  <li>Build and run the application by bringing up a shell with <code>./activator</code> (or alternatively a graphical interface with <code>./activator ui</code>) and invoking <code>playRun</code>. Changes to the code are automatically picked up.</li>
</ul>

<h3 id="workflowtips-for-developing-and-debugging">Workflow/tips for developing and debugging</h3>

<ul>
  <li>An Eclipse project can be generated with <code>./activator eclipse</code>.</li>
  <li>Compile and run the application as explained above.</li>
  <li>Compilation errors appear in the application itself as well as the activator shell (or ui).</li>
  <li>The most straightforward and effective way to test/debug the application is to test it manually in the browser.</li>
  <li>In addition, print dumps can be made with <code>console.log</code> (JavaScript) and <code>Logger.info</code> (Java).</li>
  <li>Watching the network traffic in the development tools of your browser can also be useful.</li>
  <li>Your best option for getting an instance of the Pipeline engine up and running is through the “dev-launcher” build of pipeline-assembly. This method allows you to easily build a custom version of the engine, and changes to engine components are automatically and dynamically loaded. For more details see https://github.com/snaekobbi/wiki/wiki/Building#pipeline-assembly.</li>
  <li>Whenever you want to update to a new (development) version of <a href="https://github.com/daisy/pipeline-clientlib-java" class="external-link" target="_blank">pipeline-clientlib-java</a>, ???</li>
</ul>

<h4 id="known-issuesannoyances">Known issues/annoyances</h4>
<ul>
  <li>Derby (database) can cause difficulties during development, sometimes the Play process or the activator needs to be restarted.</li>
</ul>


  </body>
</html>
