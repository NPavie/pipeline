<!DOCTYPE html>
<html lang="en">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta charset="utf-8">
	<meta http-equiv="content-language" content="en">
	<title>DAISY Pipeline 2 | Command Line Tool</title>
	
  <meta prefix="dc: http://purl.org/dc/elements/1.1/" property="dc:title" content="Command Line Tool">


	<link rel="stylesheet" href="/pipeline/css/default.css">
	<link rel="shortcut icon" href="http://www.daisy.org/sites/default/files/favicon_0.ico">

  </head>
  <body>
    <div id="body">
      <nav id="nav-sitemap">
  
  <ul class="spine spine-has-current">
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline" tabindex="1">
      
      Home
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/Download.html" tabindex="2">
      
      Download
      </a>
    
    </li>
  
    
      
        <li class="spine-item spine-item-has-current">
      
      <a href="/pipeline/Get-Help" tabindex="3">
      Help
      </a>
      
      <ul class="spine spine-has-current" id="nav-sitemap-left">
  
    
      
        <li class="spine-item spine-item-has-current">
      
      <a href="/pipeline/Get-Help/User-Guide" tabindex="6">
      User Guide
      </a>
      
      <ul class="spine spine-has-current">
  
    
      
        <li class="spine-item">
      
      <a href="/pipeline/Get-Help/User-Guide/Installation" tabindex="7">
      Installation
      </a>
      
      <ul class="spine">
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/wiki/webui/Installation-and-configuation" tabindex="8">
      
      Web Application
      </a>
    
    </li>
  
</ul>

    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/wiki/gui/DAISY-Pipeline-2-User-Guide" tabindex="9">
      
      Desktop Application
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      <a href="/pipeline/wiki/webui/User-Guide" tabindex="10">
      Web Application
      </a>
      
      <ul class="spine">
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/wiki/webui/Templating" tabindex="11">
      
      Templating
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/wiki/webui/Administrator-settings" tabindex="12">
      
      Administrator Settings
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/wiki/webui/Branding" tabindex="13">
      
      Branding
      </a>
    
    </li>
  
</ul>

    
    </li>
  
    
      
        <li class="spine-item">
      
      <a href="/pipeline/Get-Help/User-Guide/Pipeline-as-Service" tabindex="14">
      Pipeline as a Service
      </a>
      
      <ul class="spine">
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/wiki/Configuration-Files" tabindex="15">
      
      Configuration Files
      </a>
    
    </li>
  
</ul>

    
    </li>
  
    
      
        <li class="spine-item spine-item-current">
      
      
        <a href="/pipeline/Get-Help/User-Guide/Command-Line.html" tabindex="16">
      
      Command Line Tool
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/Get-Help/User-Guide/Scripts.html" tabindex="17">
      
      Scripts
      </a>
    
    </li>
  
</ul>

    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="http://www.daisy.org/forums/pipeline-2" class="external-link" target="_blank" tabindex="18">
      
      Forums
      </a>
    
    </li>
  
</ul>

    
    </li>
  
    
      
        <li class="spine-item">
      
      <a href="/pipeline/Contribute" tabindex="4">
      Contribute
      </a>
      
      <ul class="spine">
  
    
      
        <li class="spine-item">
      
      
        <a href="https://github.com/daisy/pipeline" class="external-link" target="_blank" tabindex="19">
      
      Source Code
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="https://groups.google.com/forum/#!forum/daisy-pipeline-dev" class="external-link" target="_blank" tabindex="20">
      
      Developers Mailing List
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="https://github.com/search?utf8=%E2%9C%93&amp;type=Issues&amp;q=+repo%3Adaisy%2Fpipeline+repo%3Adaisy%2Fpipeline-assembly+repo%3Adaisy%2Fpipeline-framework+repo%3Adaisy%2Fpipeline-scripts+repo%3Adaisy%2Fpipeline-build-utils+repo%3Adaisy%2Fpipeline-webui+repo%3Asnaekobbi%2Fbraille-css+repo%3Asnaekobbi%2FjStyleParser+repo%3Abrailleapps%2Fdotify.api+repo%3Abrailleapps%2Fdotify.formatter.impl" class="external-link" target="_blank" tabindex="21">
      
      Issue Tracker
      </a>
    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="/pipeline/Contribute/Developer-Guide.html" tabindex="22">
      
      Developer Guide
      </a>
    
    </li>
  
</ul>

    
    </li>
  
    
      
        <li class="spine-item">
      
      
        <a href="http://www.daisy.org" class="external-link" target="_blank" tabindex="5">
      
      DAISY Home
      </a>
    
    </li>
  
</ul>

</nav>



<script type="text/javascript">
var onload = function() {
  var nav = document.getElementById('nav-sitemap');
  var navTopBefore = nav.offsetTop;
  var fixed = (navTopBefore < window.pageYOffset);
  if (fixed) {
    nav.classList.add('fixed');
  }
  // FIXME: this is a hack! styling should not be handled here!
  var body = document.getElementsByTagName('body')[0];
  var leftNav = document.getElementById('nav-sitemap-left');
  var setLeftNavHeight = function() {
    if (fixed) {
      leftNav.style.height = (window.innerHeight - 34) + "px";
    } else {
      leftNav.style.height = Math.max(window.innerHeight - 219, body.offsetHeight - 175) + "px";
	  // "height: auto" doesn't work if the auto height of leftNav is greater
	  // than window.innerHeight and body.offsetHeight: it would mess up the
	  // transition because the transition would influence the pageYOffset
	  // and thereby canceling itself, making it impossible to scroll down.
    }
  }
  setLeftNavHeight();
  window.onscroll = function(e) {
    if (fixed && window.pageYOffset < navTopBefore) {
      nav.classList.remove('fixed');
	  fixed = false;
      setLeftNavHeight();
    } else if (!fixed && window.pageYOffset > navTopBefore) {
      nav.classList.add('fixed');
	  fixed = true;
      setLeftNavHeight();
    }
  }
  window.onresize = setLeftNavHeight;
};
if (window.addEventListener) {
  window.addEventListener('load', onload);
} else {
  window.attachEvent('onload', onload);
}
</script>


      <h1 id="command-line-tool">Command Line Tool</h1>

<p>The command line is not a standalone tool. It only works in
combination with a running <a href="/pipeline/Get-Help/User-Guide/Pipeline-as-Service">Pipeline server</a>. The
server may be running on the same computer or a different one. See
<a href="#configuration">Configuration</a> for how to specify the address of the
server.</p>

<h2 id="installation">Installation</h2>

<p>Choose a package from the
<a href="/pipeline/Download.html">downloads page</a> that includes the
command line tool, then follow the installation instructions for that
package.</p>

<h2 id="usage">Usage</h2>

<p>The executable is called <code>dp2</code>, or <code>dp2.exe</code> on Windows. Where exactly
this file is located depends on the installation.</p>

<p>In order to get an overview of the commands, run <code>dp2 help</code>:</p>

<pre><code>Usage: dp2 [GLOBAL_OPTIONS] COMMAND [COMMAND_OPTIONS]

Script commands:

General commands:
    status                     Returns the status of the job with id JOB_ID
    delete                     Removes a job from the pipeline
    results                    Stores the results from a job
    jobs                       Returns the list of jobs present in the server
    log                        Stores the results from a job
    queue                      Shows the execution queue and the job's priorities.
    moveup                     Moves the job up the execution queue
    movedown                   Moves the job down the execution queue
    clean                      Removes the jobs with an ERROR status
    halt                       Stops the webservice
    version                    Prints the version and authentication information

List of global options:                 dp2 help -g
List of admin commands:                 dp2 help -a
Detailed help for a single command:     dp2 help COMMAND
</code></pre>

<p>To get the list of admin commands, run <code>dp2 help -a</code>:</p>

<pre><code>Admin commands:
    list                       Returns the list of the available clients
    create                     Creates a new client
    remove                     Removes a client
    modify                     Modifies a client
    client                     Prints the detailed client inforamtion
    properties                 List the pipeline ws runtime properties
    sizes                      Prints the total size or a detailed list of job data stored in the
                               server
</code></pre>

<p>For detailed help on a specific script or other command, run <code>dp2 help COMMAND</code>. For example:</p>

<pre><code>Usage: dp2 [GLOBAL_OPTIONS] dtbook-to-epub3 [OPTIONS]

Options:
    --source SOURCE                One or more DTBook files to be transformed. In the case of
                                   multiple files, a merge will be performed.
    --language [LANGUAGE]          Language code of the input document.
    --assert-valid [ASSERT-VALID]  Whether to stop processing and raise an error on validation issues.
    --tts-config [TTS-CONFIG]      Configuration file for the Text-To-Speech.
    --audio [AUDIO]                Whether to use a speech synthesizer to produce audio files.
    -o,--output [OUTPUT]           Path where to store the results. This option is mandatory when
                                   the job is not executed in the background
    -z,--zip                       Write the output to a zip file rather than to a folder
    -n,--nicename [NICENAME]       Set job's nice name
    -r,--priority [PRIORITY]       Set job's priority (high|medium|low)
    -q,--quiet                     Do not print the job's messages
    -p,--persistent                Delete the job after it is executed
    -b,--background
</code></pre>

<h2 id="configuration">Configuration</h2>

<p>Configuration settings can be passed as options. In order to get the
full list of available options, run <code>dp2 help -g</code>. The default
settings may be altered in a file called <code>config.yml</code>. This file is
located in the same directory as the <code>dp2</code> executable. To change the
location, use the <code>--file</code> option.</p>

<pre><code>Global Options:
    --host [HOST]                    Pipeline's webservice host (default http://localhost)
    --port [PORT]                    Pipeline's webserivce port (default 8181)
    --ws_path [WS_PATH]              Pipeline's webservice path, as in http://daisy.org:8181/path
                                     (default ws)
    --timeout [TIMEOUT]              Http connection timeout in seconds (default 60)
    --client_key [CLIENT_KEY]        Client key for authenticated requests (default clientid)
    --client_secret [CLIENT_SECRET]  Client secrect for authenticated requests (default supersecret)
                                     true or false (default true)
    --starting [STARTING]            Start the webservice in the local computer if it is not running.
    --exec_line [EXEC_LINE]          Pipeline webserivice executable path (default ../bin/pipeline2)
    --ws_timeup [WS_TIMEUP]          Time to wait until the webservice starts in seconds (default 25)
    --debug [DEBUG]                  Print debug messages. true or false (default false)
    -f,--file [FILE]                 Alternative configuration file
</code></pre>

    </div>
  </body>
</html>
